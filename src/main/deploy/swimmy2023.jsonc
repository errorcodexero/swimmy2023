{
    "system": {
        "messages": {
            // Robot framework settings
            "actions": true,
            "pathmanager": false,
            "xerorobot": false,
            "simulator": false,
            "limelight-edgar" : false,

            // Special settings
            "pathfollowing": false,

            // Subsystem related messages
            "swerve": false,
            "swerve2023oi": false,

            "arm-motor-lower" : false,
            "arm-motor-upper" : false
        },
        "verbose": {
            "swerve" : true
        },
        "plotting": {
            "enabled" : true,
            "version" : 3
        },
        "pneumatics": {
            "type": "REVPH",
            "min-pressure" : 100.0,
            "max-pressure" : 120.0
        }
    },  
    "subsystems": {
        "arm-motor-lower": {
            "hw": {
                "motors": {
                    "1": {
                        "type": "talon-fx",
                        "canid": 1,
                        "bus" : "",
                        "inverted" : true,
                        "neutral_mode": "coast"
                    }
                },
                "encoder": {
                    "type": "motor",
                    "m": 1,
                    "b": 0,
                    "units" : "ticks"
                }
            }
        },
        "arm-motor-upper": {
            "hw": {
                "motors": {
                    "1": {
                        "type": "talon-fx",
                        "canid": 2,
                        "bus" : "",
                        "inverted" : false,
                        "neutral_mode": "coast"
                    }
                },
                "encoder": {
                    "type": "motor",
                    "m": 1,
                    "b": 0,
                    "units" : "ticks"
                }
            }
        },
        "grabber" : {
            "hw" : {
                "solenoids" : {
                    "solenoid" : 0
                },
                "sensor" : 0
            }
        },
        "grabber-motor-left": {
            "hw": {
                "motors": {
                    "1": {
                        "type": "sparkmax-brushless",
                        "canid": 3,
                        "bus" : "",
                        "inverted" : false,
                        "neutral_mode": "coast"
                    }
                },
                "encoder": {
                    "type": "motor",
                    "m": 1,
                    "b": 0,
                    "units" : "ticks"
                }
            }
        },
        "grabber-motor-right": {
            "hw": {
                "motors": {
                    "1": {
                        "type": "sparkmax-brushless",
                        "canid": 4,
                        "bus" : "",
                        "inverted" : true,
                        "neutral_mode": "coast"
                    }
                },
                "encoder": {
                    "type": "motor",
                    "m": 1,
                    "b": 0,
                    "units" : "ticks"
                }
            }
        },
        "swimmy2023oi": {
            "swerve_gamepad": {
                "index": 0,
                "angle": {
                    "maximum": 180,
                    "deadband": 0.05
                },
                "position": {
                    "maximum": 4.5,
                    "deadband": {
                        "x": 0.1,
                        "y": 0.1
                    }
                },
                "power": 1.5
            }
        },
        "swerve": {
            "pid": {
                "xctrl": {
                    "kp": 3.0,
                    "ki": 0,
                    "kd": 0
                },
                "yctrl": {
                    "kp": 3.0,
                    "ki": 0,
                    "kd": 0
                },
                "rotation": {
                    "kp": 13.0,
                    "ki": 0,
                    "kd": 0
                }
            },
            "hw": {
                "bus" : "DriveBase",
                "gyro": {
                    "type": "navx",
                    "start-time": 3.0
                },
                "fl": {
                    "steer": {
                        "canid": 11
                    },
                    "drive": {
                        "canid": 12
                    },
                    "encoder": {
                        "canid": 13,
                        "offset": {
                            "PRACTICE" : 1.0,
                            "COMPETITION" : -218.85
                        }
                    }
                },
                "fr": {
                    "steer": {
                        "canid": 21
                    },
                    "drive": {
                        "canid": 22
                    },
                    "encoder": {
                        "canid": 23,
                        "offset": {
                            "PRACTICE" : 1.0,
                            "COMPETITION" : -295.5
                        }
                    }
                },
                "bl": {
                    "steer": {
                        "canid": 41
                    },
                    "drive": {
                        "canid": 42
                    },
                    "encoder": {
                        "canid": 43,
                        "offset": {
                            "PRACTICE" : 1.0,
                            "COMPETITION" : -146.1
                        }
                    }
                },
                "br": {
                    "steer": {
                        "canid": 31
                    },
                    "drive": {
                        "canid": 32
                    },
                    "encoder": {
                        "canid": 33,
                        "offset": {
                            "PRACTICE" : 1.0,
                            "COMPETITION" : -77.96
                        }
                    }
                }
            },
            //
            // I saw some strange results with the PIDs that I wanted to check out.  Basically, as I changed
            // the PIDs I did not see a change in behavior of the robot.  The numbers I was using are in comments
            // below.
            //
            "pids": {
                "fl": {
                    "kp":  {
                        "PRACTICE" : 0.02,
                        "COMPETITION" : 0.6 //0.3            // 0.06 - tenative, see comment above
                    },
                    "ki": 0.0,
                    "kd": 0.0,
                    "kf" : {
                        "PRACTICE" : 0.0,
                        "COMPETITION" : 0.224895986
                    },
                    "min": -1.0,
                    "max": 1.0,
                    "imax": 0.0
                },
                "fr": {
                    "kp":  {
                        "PRACTICE" : 0.02,
                        "COMPETITION" : 1//1.5               // 1.0 - tenative, see comment above
                    },
                    "ki": 0.0,
                    "kd": 0.0,
                    "kf" : {
                        "PRACTICE" : 0.0,
                        "COMPETITION" : 0.223224251
                    },
                    "min": -1.0,
                    "max": 1.0,
                    "imax": 0.0
                },
                "bl": {
                    "kp":  {
                        "PRACTICE" : 0.02,
                        "COMPETITION" : 1//0.45                   // 1.0 - tenative, see comment above
                    },
                    "ki": 0.0,
                    "kd": 0.0,
                    "kf" : {
                        "PRACTICE" : 0.02,
                        "COMPETITION" : 0.231975503
                    },
                    "min": -1.0,
                    "max": 1.0,
                    "imax": 0.0
                },
                "br": {
                    "kp":  {
                        "PRACTICE" : 0.02,
                        "COMPETITION" : 1//0.45                    // 1.0 - tenative, see comment above
                    },
                    "ki": 0.0,
                    "kd": 0.0,
                    "kf" : {
                        "PRACTICE" : 0.02,
                        "COMPETITION" : 0.224366166
                    },
                    "min": -1.0,
                    "max": 1.0,
                    "imax": 0.0
                }
            },
            "physical": {
                "width": 0.5715, // meters
                "length": 0.5842, // meters
                "path" : {
                    "maxv" : 2.0,
                    "maxa" : 2.0
                },
                "max-angular-speed": 100,
                "max-angular-accel": 100
            },
            "electrical": {
                "max-voltage": 12.0,
                "nominal-voltage": 11.0,
                "steer-current-limit": 10.0,
                "drive-current-limit": 30.0
            },
            "holonomic-path-following": {
                "xy-tolerance": 0.05,
                "angle-tolerance": 2.0
            }
        }
    }, 
    "field": { // TODO: update with actual (x,y) field coordinates (as xero path gen would generate coordinates)
        "red":{
            "grid": { 
                "1": { //middle of field
                    "grid-id": 3,
                    "left": {
                        "x": 0,
                        "y": 0
                    },
                    "middle": {
                        "x": 0,
                        "y": 0
                    },
                    "right": {
                        "x": 0,
                        "y": 0
                    }     
                },
                "2": { //coopertition grid of field
                    "grid-id": 2,
                    "left": {
                        "x": 0,
                        "y": 0
                    },
                    "middle": {
                        "x": 0,
                        "y": 0
                    },
                    "right": {
                        "x": 0,
                        "y": 0
                    }     
                },  
                "3": { //edge of field
                    "grid-id": 1,
                    "left": {
                        "x": 0,
                        "y": 0
                    },
                    "middle": {
                        "x": 0,
                        "y": 0
                    },
                    "right": {
                        "x": 0,
                        "y": 0
                    }     
                },
                "10": { //loading station
                    "grid-id": 5,
                    "left": {
                        "x": 0,
                        "y": 0
                    },
                    "right": {
                        "x": 0,
                        "y": 0
                    }     
                }
            }
        },
        "blue": {
            "grid": { 
                "1": { //middle of field
                    "grid-id": 6,
                    "left": {
                        "x": 0,
                        "y": 0
                    },
                    "middle": {
                        "x": 0,
                        "y": 0
                    },
                    "right": {
                        "x": 0,
                        "y": 0
                    }     
                },
                "2": { //coopertition grid of field
                    "grid-id": 7,
                    "left": {
                        "x": 0,
                        "y": 0
                    },
                    "middle": {
                        "x": 0,
                        "y": 0
                    },
                    "right": {
                        "x": 0,
                        "y": 0
                    }     
                },  
                "3": { //edge of field
                    "grid-id": 8,
                    "left": {
                        "x": 0,
                        "y": 0
                    },
                    "middle": {
                        "x": 0,
                        "y": 0
                    },
                    "right": {
                        "x": 0,
                        "y": 0
                    }     
                },
                "10": { //loading station
                    "grid-id": 4,
                    "left": {
                        "x": 0,
                        "y": 0
                    },
                    "right": {
                        "x": 0,
                        "y": 0
                    }     
                }
            }
        }
    },
    "testmode": {
        "enabled": true,
        "which": 19,
        "0": {
            "angle": 0.0,
            "power": 0.2
        },
        "1": {
            "angle": 0.0,
            "power": 0.9,
            "duration": 1.7
        },
        "2": {
            "angle": 0.0,
            "speed": 0.5
        },
        "3": {
            "angle": 0.0,
            "speed": 1,
            "duration": 2.0
        },
        "4": {
            "name": "test-8mx"
        },
        "5": {
            "angle": 0.0,
            "power": 0.1,
            "duration": 10
        },
        "10" : {
            "power" : 0.3,
            "duration" : 4.0
        },
        "11" : {
            "power" : 0.1,
            "duration" : 0.5
        },
        "12" : {
            "upperpower" : 0.2,
            "upperduration" : 3.0,
            "lowerpower" : 0.2,
            "lowerduration" : 4.0
        },
        "20" : {
            "power" : 0.2,
            "duration" : 3.0            
        },
        "21" : {
            "power" : 0.2,
            "duration" : 3.0            
        },
        "29" : {
        }
    }
}
